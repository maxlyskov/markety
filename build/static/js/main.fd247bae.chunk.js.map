{"version":3,"sources":["firebase/config.js","context/AuthContext.js","hooks/useAuthContext.js","hooks/useCollection.js","components/Avatar.jsx","components/ProjectList.jsx","pages/dashboard/ProjectFilter.jsx","pages/dashboard/Dashboard.jsx","hooks/useFirestore.js","pages/create/Create.jsx","pages/login/Login.jsx","hooks/useLogin.js","pages/signup/Signup.jsx","hooks/useSignup.js","hooks/useDocument.js","pages/project/ProjectComments.jsx","pages/project/ProjectSummary.jsx","pages/project/Project.jsx","hooks/useLogout.js","assets/temple.svg","components/Navbar.jsx","assets/dashboard_icon.svg","assets/add_icon.svg","components/Sidebar.jsx","components/OnlineUsers.jsx","App.js","index.js"],"names":["firebase","initializeApp","apiKey","authDomain","projectId","storageBucket","messagingSenderId","appId","projectFirestore","firestore","projectAuth","auth","projectStorage","storage","timestamp","Timestamp","AuthContext","createContext","authReducer","state","action","type","user","payload","authIsReady","AuthContextProvider","children","useReducer","dispatch","console","log","useEffect","unsub","onAuthStateChanged","Provider","value","useAuthContext","context","useContext","Error","useCollection","collection","_query","_orderBy","useState","documents","setDocuments","error","setError","query","useRef","current","orderBy","ref","where","unsubscribe","onSnapshot","snapshot","results","docs","forEach","doc","push","data","id","Avatar","src","className","alt","ProjectList","projects","length","map","project","to","name","dueDate","toDate","toDateString","assignedUsersList","photoURL","filterList","ProjectFilter","changeFilter","currentFilter","setCurrentFilter","f","onClick","newFilter","Dashboard","filter","setFilter","document","assignedToMe","u","uid","category","initialState","isPending","success","firestoreReducer","useFirestore","response","isCancelled","setIsCancelled","dispatchIfNotCancelled","addDocument","a","createdAt","fromDate","Date","add","addedDocument","message","deleteDocument","delete","updateDocument","updates","update","updatedDocument","categories","label","Create","history","useHistory","users","setUsers","setName","details","setDetails","setDueDate","setCategory","assignedUsers","setAssignedUsers","formError","setFormError","displayName","handleSubmit","e","preventDefault","createdBy","comments","onSubmit","required","onChange","target","option","options","isMulti","Login","email","setEmail","password","setPassword","setIsPending","login","signInWithEmailAndPassword","online","useLogin","disabled","Signup","setDisplayName","thumbnail","setThumbnail","thumbnailError","setThumbnailError","signup","createUserWithEmailAndPassword","res","uploadPath","put","img","getDownloadURL","imgUrl","updateProfile","set","useSignup","selected","files","includes","size","ProjectComments","newComment","setNewComment","commentToAdd","content","Math","random","comment","formatDistanceToNow","addSuffix","ProjectSummary","Project","setDocument","err","useDocument","useParams","Navbar","logout","signOut","useLogout","Temple","Sidebar","exact","DashboardIcon","AddIcon","OnlineUsers","App","path","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.fd247bae.chunk.js","sourcesContent":["import firebase from \"firebase/app\";\nimport \"firebase/firestore\";\nimport \"firebase/auth\";\nimport \"firebase/storage\";\n\nconst firebaseConfig = {\n  apiKey: \"AIzaSyCwJAZBrHYFiEj3QsSN34Wj6idQ0hu42ug\",\n  authDomain: \"markety-38b85.firebaseapp.com\",\n  projectId: \"markety-38b85\",\n  storageBucket: \"markety-38b85.appspot.com\",\n  messagingSenderId: \"879847653083\",\n  appId: \"1:879847653083:web:f5d9974283f27b060756fe\",\n};\n\n// init firebase\n\nfirebase.initializeApp(firebaseConfig);\n\n// init services\n\nconst projectFirestore = firebase.firestore();\nconst projectAuth = firebase.auth();\nconst projectStorage = firebase.storage();\n\n// timestamp\n\nconst timestamp = firebase.firestore.Timestamp;\n\nexport { projectAuth, projectFirestore, projectStorage, timestamp };\n","import { createContext, useEffect, useReducer } from \"react\";\nimport { projectAuth } from \"../firebase/config\";\n\nexport const AuthContext = createContext();\n\nexport const authReducer = (state, action) => {\n  switch (action.type) {\n    case \"LOGIN\":\n      return { ...state, user: action.payload };\n    case \"LOGOUT\":\n      return { ...state, user: null };\n    case \"AUTH_IS_READY\":\n      return { ...state, user: action.payload, authIsReady: true };\n    default:\n      return state;\n  }\n};\n\nexport const AuthContextProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(authReducer, {\n    user: null,\n    authIsReady: false,\n  });\n  console.log(\"AuthContext state:\", state);\n\n  useEffect(() => {\n    const unsub = projectAuth.onAuthStateChanged((user) => {\n      dispatch({ type: \"AUTH_IS_READY\", payload: user });\n      unsub();\n    });\n  }, []);\n\n  return (\n    <AuthContext.Provider value={{ ...state, dispatch }}>\n      {children}\n    </AuthContext.Provider>\n  );\n};\n","import { AuthContext } from \"../context/AuthContext\";\nimport { useContext } from \"react\";\n\nexport const useAuthContext = () => {\n  const context = useContext(AuthContext);\n\n  if (!context) {\n    throw Error(\"useAuthContext must be used inside an AuthContextProvider\");\n  }\n\n  return context;\n};\n","import { useEffect, useRef, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useCollection = (collection, _query, _orderBy) => {\n  const [documents, setDocuments] = useState(null);\n  const [error, setError] = useState(null);\n\n  // prevent infinite loop\n  const query = useRef(_query).current;\n  const orderBy = useRef(_orderBy).current;\n\n  useEffect(() => {\n    let ref = projectFirestore.collection(collection);\n\n    if (query) {\n      ref = ref.where(...query);\n    }\n    if (orderBy) {\n      ref = ref.orderBy(...orderBy);\n    }\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        let results = [];\n        snapshot.docs.forEach((doc) => {\n          results.push({ ...doc.data(), id: doc.id });\n        });\n\n        // update state\n        setDocuments(results);\n        setError(null);\n      },\n      (error) => {\n        console.log(error);\n        setError(\"could not fetch the data\");\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, orderBy, query]);\n\n  return { documents, error };\n};\n","// styles\nimport \"./Avatar.css\";\n\nexport default function Avatar({ src }) {\n  return (\n    <div className=\"avatar\">\n      <img src={src} alt=\"user avatar\" />\n    </div>\n  );\n}\n","import { Link } from \"react-router-dom\";\nimport Avatar from \"../components/Avatar\";\n\n// styles\nimport \"./ProjectList.css\";\n\nexport default function ProjectList({ projects }) {\n  console.log(projects);\n\n  return (\n    <div className=\"project-list\">\n      {projects.length === 0 && <p>No projects yet!</p>}\n      {projects.map((project) => (\n        <Link to={`/projects/${project.id}`} key={project.id}>\n          <h4>{project.name}</h4>\n          <p>Due by {project.dueDate.toDate().toDateString()}</p>\n          <div className=\"assigned-to\">\n            <p>\n              <strong>Assigned to:</strong>\n            </p>\n            <ul>\n              {project.assignedUsersList.map((user) => (\n                <li key={user.photoURL}>\n                  <Avatar src={user.photoURL} />\n                </li>\n              ))}\n            </ul>\n          </div>\n        </Link>\n      ))}\n    </div>\n  );\n}\n","import { useState } from \"react\";\n\nconst filterList = [\n  \"all\",\n  \"mine\",\n  \"development\",\n  \"design\",\n  \"marketing\",\n  \"sales\",\n];\n\nexport default function ProjectFilter({ changeFilter }) {\n  const [currentFilter, setCurrentFilter] = useState(\"all\");\n\n  const handleClick = (newFilter) => {\n    setCurrentFilter(newFilter);\n    changeFilter(newFilter);\n  };\n\n  return (\n    <div className=\"project-filter\">\n      <nav>\n        <p>Filter by: </p>\n        {filterList.map((f) => (\n          <button\n            key={f}\n            onClick={() => handleClick(f)}\n            className={currentFilter === f ? \"active\" : \"\"}\n          >\n            {f}\n          </button>\n        ))}\n      </nav>\n    </div>\n  );\n}\n","import { useCollection } from \"../../hooks/useCollection\";\nimport { useState } from \"react\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\n\n// components\nimport ProjectList from \"../../components/ProjectList\";\nimport ProjectFilter from \"./ProjectFilter\";\n\n// styles\nimport \"./Dashboard.css\";\n\nexport default function Dashboard() {\n  const { user } = useAuthContext();\n  const { documents, error } = useCollection(\"projects\");\n  const [filter, setFilter] = useState(\"all\");\n\n  const changeFilter = (newFilter) => {\n    setFilter(newFilter);\n  };\n\n  const projects = documents\n    ? documents.filter((document) => {\n        switch (filter) {\n          case \"all\":\n            return true;\n          case \"mine\":\n            let assignedToMe = false;\n            document.assignedUsersList.forEach((u) => {\n              if (u.id === user.uid) {\n                assignedToMe = true;\n              }\n            });\n            return assignedToMe;\n          case \"development\":\n          case \"design\":\n          case \"sales\":\n          case \"marketing\":\n            console.log(document.category, filter);\n            return document.category === filter;\n          default:\n            return true;\n        }\n      })\n    : null;\n\n  return (\n    <div>\n      <h2 className=\"page-title\">Dashboard</h2>\n      {error && <p className=\"error\">{error}</p>}\n      {documents && <ProjectFilter changeFilter={changeFilter} />}\n      {projects && <ProjectList projects={projects} />}\n    </div>\n  );\n}\n","import { useReducer, useEffect, useState } from \"react\";\nimport { projectFirestore, timestamp } from \"../firebase/config\";\n\nlet initialState = {\n  document: null,\n  isPending: false,\n  error: null,\n  success: null,\n};\n\nconst firestoreReducer = (state, action) => {\n  switch (action.type) {\n    case \"IS_PENDING\":\n      return { isPending: true, document: null, success: false, error: null };\n    case \"ADDED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    case \"DELETED_DOCUMENT\":\n      return { isPending: false, document: null, success: true, error: null };\n    case \"ERROR\":\n      return {\n        isPending: false,\n        document: null,\n        success: false,\n        error: action.payload,\n      };\n    case \"UPDATED_DOCUMENT\":\n      return {\n        isPending: false,\n        document: action.payload,\n        success: true,\n        error: null,\n      };\n    default:\n      return state;\n  }\n};\n\nexport const useFirestore = (collection) => {\n  const [response, dispatch] = useReducer(firestoreReducer, initialState);\n  const [isCancelled, setIsCancelled] = useState(false);\n\n  // collection ref\n  const ref = projectFirestore.collection(collection);\n\n  // only dispatch if not cancelled\n  const dispatchIfNotCancelled = (action) => {\n    if (!isCancelled) {\n      dispatch(action);\n    }\n  };\n\n  // add a document\n  const addDocument = async (doc) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const createdAt = timestamp.fromDate(new Date());\n      const addedDocument = await ref.add({ ...doc, createdAt });\n      dispatchIfNotCancelled({\n        type: \"ADDED_DOCUMENT\",\n        payload: addedDocument,\n      });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: err.message });\n    }\n  };\n\n  // delete a document\n  const deleteDocument = async (id) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      await ref.doc(id).delete();\n      dispatchIfNotCancelled({ type: \"DELETED_DOCUMENT\" });\n    } catch (err) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: \"could not delete\" });\n    }\n  };\n\n  // update a document\n  const updateDocument = async (id, updates) => {\n    dispatch({ type: \"IS_PENDING\" });\n\n    try {\n      const updatedDocument = await ref.doc(id).update(updates);\n      dispatchIfNotCancelled({\n        type: \"UPDATED_DOCUMENT\",\n        payload: updatedDocument,\n      });\n      return updatedDocument;\n    } catch (error) {\n      dispatchIfNotCancelled({ type: \"ERROR\", payload: error });\n      return null;\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { addDocument, deleteDocument, updateDocument, response };\n};\n","import { useState, useEffect } from \"react\";\nimport { useCollection } from \"../../hooks/useCollection\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport { timestamp } from \"../../firebase/config\";\nimport Select from \"react-select\";\n\n// styles\nimport \"./Create.css\";\nimport { useHistory } from \"react-router-dom\";\n\nconst categories = [\n  { value: \"development\", label: \"Development\" },\n  { value: \"design\", label: \"Design\" },\n  { value: \"sales\", label: \"Sales\" },\n  { value: \"marketing\", label: \"Marketing\" },\n];\n\nexport default function Create() {\n  const history = useHistory();\n  const { addDocument, response } = useFirestore(\"projects\");\n  const { user } = useAuthContext();\n  const { documents } = useCollection(\"users\");\n  const [users, setUsers] = useState([]);\n\n  // form field values\n  const [name, setName] = useState(\"\");\n  const [details, setDetails] = useState(\"\");\n  const [dueDate, setDueDate] = useState(\"\");\n  const [category, setCategory] = useState(\"\");\n  const [assignedUsers, setAssignedUsers] = useState([]);\n  const [formError, setFormError] = useState(null);\n\n  // create user values for react-select\n  useEffect(() => {\n    if (documents) {\n      setUsers(\n        documents.map((user) => {\n          return { value: { ...user, id: user.id }, label: user.displayName };\n        })\n      );\n    }\n  }, [documents]);\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    setFormError(null);\n\n    if (!category) {\n      setFormError(\"Please select a project category.\");\n      return;\n    }\n    if (assignedUsers.length < 1) {\n      setFormError(\"Please assign the project to at least 1 user\");\n      return;\n    }\n\n    const assignedUsersList = assignedUsers.map((u) => {\n      return {\n        displayName: u.value.displayName,\n        photoURL: u.value.photoURL,\n        id: u.value.id,\n      };\n    });\n    const createdBy = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      id: user.uid,\n    };\n\n    const project = {\n      name,\n      details,\n      category: category.value,\n      dueDate: timestamp.fromDate(new Date(dueDate)),\n      assignedUsersList,\n      createdBy,\n      comments: [],\n    };\n\n    await addDocument(project);\n    if (!response.error) history.push(\"/\");\n  };\n\n  return (\n    <div className=\"create-form\">\n      <h2 className=\"page-title\">Create a new Project</h2>\n      <form onSubmit={handleSubmit}>\n        <label>\n          <span>Project name:</span>\n          <input\n            required\n            type=\"text\"\n            onChange={(e) => setName(e.target.value)}\n            value={name}\n          />\n        </label>\n        <label>\n          <span>Project Details:</span>\n          <textarea\n            required\n            onChange={(e) => setDetails(e.target.value)}\n            value={details}\n          ></textarea>\n        </label>\n        <label>\n          <span>Set due date:</span>\n          <input\n            required\n            type=\"date\"\n            onChange={(e) => setDueDate(e.target.value)}\n            value={dueDate}\n          />\n        </label>\n        <label>\n          <span>Project category:</span>\n          <Select\n            onChange={(option) => setCategory(option)}\n            options={categories}\n          />\n        </label>\n        <label>\n          <span>Assign to:</span>\n          <Select\n            onChange={(option) => setAssignedUsers(option)}\n            options={users}\n            isMulti\n          />\n        </label>\n\n        <button className=\"btn\">Add Project</button>\n\n        {formError && <p className=\"error\">{formError}</p>}\n      </form>\n    </div>\n  );\n}\n","import { useState } from \"react\";\nimport { useLogin } from \"../../hooks/useLogin\";\n\n// styles\nimport \"./Login.css\";\n\nexport default function Login() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const { error, isPending, login } = useLogin();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    login(email, password);\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>login</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      {!isPending ? (\n        <button className=\"btn\">Log in</button>\n      ) : (\n        <button className=\"btn\" disabled>\n          Loading...\n        </button>\n      )}\n      {error && <p>{error}</p>}\n    </form>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\n\nexport const useLogin = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const login = async (email, password) => {\n    setError(null);\n    setIsPending(true);\n\n    // sign in\n    try {\n      const response = await projectAuth.signInWithEmailAndPassword(\n        email,\n        password\n      );\n\n      // change online status to true\n      await projectFirestore\n        .collection(\"users\")\n        .doc(response.user.uid)\n        .update({ online: true });\n\n      // dispatch login action\n\n      dispatch({ type: \"LOGIN\", payload: response.user });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (error) {\n      if (!isCancelled) {\n        setError(error.message);\n        setIsPending(false);\n        console.log(error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { error, isPending, login };\n};\n","import { useState } from \"react\";\n\n// styles\nimport \"./Signup.css\";\nimport { useSignup } from \"../../hooks/useSignup\";\n\nexport default function Signup() {\n  const [email, setEmail] = useState(\"\");\n  const [password, setPassword] = useState(\"\");\n  const [displayName, setDisplayName] = useState(\"\");\n  const [thumbnail, setThumbnail] = useState(null);\n  const [thumbnailError, setThumbnailError] = useState(null);\n  const { isPending, error, signup } = useSignup();\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    signup(email, password, displayName, thumbnail);\n  };\n\n  const handleFileChange = (e) => {\n    setThumbnail(null);\n    let selected = e.target.files[0];\n    console.log(selected);\n\n    if (!selected) {\n      setThumbnailError(\"Please select a file\");\n      return;\n    }\n    if (!selected.type.includes(\"image\")) {\n      setThumbnailError(\"Selected file must be an image\");\n      return;\n    }\n    if (selected.size > 100000) {\n      setThumbnailError(\"Image file size must be less than 100kb\");\n      return;\n    }\n\n    setThumbnailError(null);\n    setThumbnail(selected);\n    console.log(\"thumbnail updated\");\n  };\n\n  return (\n    <form onSubmit={handleSubmit} className=\"auth-form\">\n      <h2>sign up</h2>\n      <label>\n        <span>email:</span>\n        <input\n          required\n          type=\"email\"\n          onChange={(e) => setEmail(e.target.value)}\n          value={email}\n        />\n      </label>\n      <label>\n        <span>password:</span>\n        <input\n          required\n          type=\"password\"\n          onChange={(e) => setPassword(e.target.value)}\n          value={password}\n        />\n      </label>\n      <label>\n        <span>display name:</span>\n        <input\n          required\n          type=\"text\"\n          onChange={(e) => setDisplayName(e.target.value)}\n          value={displayName}\n        />\n      </label>\n      <label>\n        <span>Profile thumbnail:</span>\n        <input required type=\"file\" onChange={handleFileChange} />\n        {thumbnailError && <div className=\"error\">{thumbnailError}</div>}\n      </label>\n      {isPending ? (\n        <button className=\"btn\" disabled>\n          Loading...\n        </button>\n      ) : (\n        <button className=\"btn\">Sign up</button>\n      )}\n      {error && <p>{error}</p>}\n    </form>\n  );\n}\n","import { useState, useEffect } from \"react\";\nimport {\n  projectAuth,\n  projectFirestore,\n  projectStorage,\n} from \"../firebase/config\";\nimport { useAuthContext } from \"./useAuthContext\";\n\nexport const useSignup = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch } = useAuthContext();\n\n  const signup = async (email, password, displayName, thumbnail) => {\n    setError(null);\n    setIsPending(true);\n\n    try {\n      // signup\n      const res = await projectAuth.createUserWithEmailAndPassword(\n        email,\n        password\n      );\n\n      if (!res) {\n        throw new Error(\"Could not complete signup\");\n      }\n\n      // upload user thumbnail\n      const uploadPath = `thumbnails/${res.user.uid}/${thumbnail.name}`;\n      const img = await projectStorage.ref(uploadPath).put(thumbnail);\n      const imgUrl = await img.ref.getDownloadURL();\n\n      // add display AND PHOTO_URL name to user\n      await res.user.updateProfile({ displayName, photoURL: imgUrl });\n\n      // create a user document\n      await projectFirestore.collection(\"users\").doc(res.user.uid).set({\n        online: true,\n        displayName,\n        photoURL: imgUrl,\n      });\n\n      // dispatch login action\n      dispatch({ type: \"LOGIN\", payload: res.user });\n\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (err) {\n      if (!isCancelled) {\n        setError(err.message);\n        setIsPending(false);\n      }\n    }\n  };\n\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { signup, error, isPending };\n};\n","import { useEffect, useState } from \"react\";\nimport { projectFirestore } from \"../firebase/config\";\n\nexport const useDocument = (collection, id) => {\n  const [document, setDocument] = useState(null);\n  const [error, setError] = useState(null);\n\n  // realtime document data\n  useEffect(() => {\n    const ref = projectFirestore.collection(collection).doc(id);\n\n    const unsubscribe = ref.onSnapshot(\n      (snapshot) => {\n        // need to make sure the doc exists & has data\n        if (snapshot.data()) {\n          setDocument({ ...snapshot.data(), id: snapshot.id });\n          setError(null);\n        } else {\n          setError(\"No such document exists\");\n        }\n      },\n      (err) => {\n        console.log(err.message);\n        setError(\"failed to get document\");\n      }\n    );\n\n    // unsubscribe on unmount\n    return () => unsubscribe();\n  }, [collection, id]);\n\n  return { document, error };\n};\n","import { useState } from \"react\";\nimport { timestamp } from \"../../firebase/config\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport Avatar from \"../../components/Avatar\";\nimport formatDistanceToNow from \"date-fns/formatDistanceToNow\";\n\nexport default function ProjectComments({ project }) {\n  const { user } = useAuthContext();\n  const { updateDocument, response } = useFirestore(\"projects\");\n  const [newComment, setNewComment] = useState(\"\");\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n\n    const commentToAdd = {\n      displayName: user.displayName,\n      photoURL: user.photoURL,\n      content: newComment,\n      createdAt: timestamp.fromDate(new Date()),\n      id: Math.random(),\n    };\n\n    await updateDocument(project.id, {\n      comments: [...project.comments, commentToAdd],\n    });\n    if (!response.error) {\n      setNewComment(\"\");\n    }\n  };\n\n  return (\n    <div className=\"project-comments\">\n      <h4>Project Comments</h4>\n\n      <ul>\n        {project.comments.length > 0 &&\n          project.comments.map((comment) => (\n            <li key={comment.id}>\n              <div className=\"comment-author\">\n                <Avatar src={comment.photoURL} />\n                <p>{comment.displayName}</p>\n              </div>\n              <div className=\"comment-date\">\n                <p>\n                  {formatDistanceToNow(comment.createdAt.toDate(), {\n                    addSuffix: true,\n                  })}\n                </p>\n              </div>\n              <div className=\"comment-content\">\n                <p>{comment.content}</p>\n              </div>\n            </li>\n          ))}\n      </ul>\n\n      <form className=\"add-comment\" onSubmit={handleSubmit}>\n        <label>\n          <span>Add new comment:</span>\n          <textarea\n            onChange={(e) => setNewComment(e.target.value)}\n            value={newComment}\n          ></textarea>\n        </label>\n        <button className=\"btn\">Add Comment</button>\n      </form>\n    </div>\n  );\n}\n","import Avatar from \"../../components/Avatar\";\nimport { useFirestore } from \"../../hooks/useFirestore\";\nimport { useHistory } from \"react-router-dom\";\nimport { useAuthContext } from \"../../hooks/useAuthContext\";\n\nexport default function ProjectSummary({ project }) {\n  const { deleteDocument } = useFirestore(\"projects\");\n  const { user } = useAuthContext();\n  const history = useHistory();\n\n  const handleClick = () => {\n    deleteDocument(project.id);\n    history.push(\"/\");\n  };\n\n  return (\n    <div>\n      <div className=\"project-summary\">\n        <h2 className=\"page-title\">{project.name}</h2>\n        <p className=\"due-date\">\n          Project due by {project.dueDate.toDate().toDateString()}\n        </p>\n        <p className=\"details\">{project.details}</p>\n        <h4>Project assigned to:</h4>\n        <div className=\"assigned-users\">\n          {project.assignedUsersList.map((user) => (\n            <div key={user.id}>\n              <Avatar src={user.photoURL} />\n            </div>\n          ))}\n        </div>\n      </div>\n      {user.uid === project.createdBy.id && (\n        <button className=\"btn\" onClick={handleClick}>\n          Mark as Complete\n        </button>\n      )}\n    </div>\n  );\n}\n","import { useParams } from \"react-router-dom\";\nimport { useDocument } from \"../../hooks/useDocument\";\n\n// styles\nimport \"./Project.css\";\n\nimport ProjectComments from \"./ProjectComments\";\nimport ProjectSummary from \"./ProjectSummary\";\n\nexport default function Project() {\n  const { id } = useParams();\n  const { document, error } = useDocument(\"projects\", id);\n\n  if (error) {\n    return <div className=\"error\">{error}</div>;\n  }\n  if (!document) {\n    return <div className=\"loading\">Loading...</div>;\n  }\n\n  return (\n    <div className=\"project-details\">\n      <ProjectSummary project={document} />\n      <ProjectComments project={document} />\n    </div>\n  );\n}\n","import { useEffect, useState } from \"react\";\nimport { useAuthContext } from \"./useAuthContext\";\nimport { projectAuth, projectFirestore } from \"../firebase/config\";\n\nexport const useLogout = () => {\n  const [isCancelled, setIsCancelled] = useState(false);\n  const [error, setError] = useState(null);\n  const [isPending, setIsPending] = useState(false);\n  const { dispatch, user } = useAuthContext();\n\n  const logout = async () => {\n    setError(null);\n    setIsPending(true);\n\n    // sign out\n    try {\n      const { uid } = user;\n\n      // update online status\n      await projectFirestore\n        .collection(\"users\")\n        .doc(uid)\n        .update({ online: false });\n\n      await projectAuth.signOut();\n\n      // dispatch logout action\n\n      dispatch({ type: \"LOGOUT\" });\n      if (!isCancelled) {\n        setIsPending(false);\n        setError(null);\n      }\n    } catch (error) {\n      if (!isCancelled) {\n        setError(error.message);\n        setIsPending(false);\n        console.log(error.message);\n      }\n    }\n  };\n  useEffect(() => {\n    return () => setIsCancelled(true);\n  }, []);\n\n  return { error, isPending, logout };\n};\n","export default __webpack_public_path__ + \"static/media/temple.c57f882d.svg\";","import { Link } from \"react-router-dom\";\nimport { useLogout } from \"../hooks/useLogout\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n\n// styles & images\nimport \"./Navbar.css\";\nimport Temple from \"../assets/temple.svg\";\n\nexport default function Navbar() {\n  const { logout, isPending } = useLogout();\n  const { user } = useAuthContext();\n\n  return (\n    <nav className=\"navbar\">\n      <ul>\n        <li className=\"logo\">\n          <img src={Temple} alt=\"v logo\" />\n          <span>Markety</span>\n        </li>\n        {!user ? (\n          <>\n            <li>\n              <Link to=\"/login\">Login</Link>\n            </li>\n            <li>\n              <Link to=\"/signup\">Signup</Link>\n            </li>\n          </>\n        ) : (\n          <li>\n            {!isPending && (\n              <button className=\"btn\" onClick={logout}>\n                Logout\n              </button>\n            )}\n            {isPending && (\n              <button className=\"btn\" disabled>\n                Logging out...\n              </button>\n            )}\n          </li>\n        )}\n      </ul>\n    </nav>\n  );\n}\n","export default __webpack_public_path__ + \"static/media/dashboard_icon.bc800f3b.svg\";","export default __webpack_public_path__ + \"static/media/add_icon.376e9b6a.svg\";","import { NavLink } from \"react-router-dom\";\nimport { useAuthContext } from \"../hooks/useAuthContext\";\n// styles & images\nimport \"./Sidebar.css\";\nimport DashboardIcon from \"../assets/dashboard_icon.svg\";\nimport AddIcon from \"../assets/add_icon.svg\";\nimport Avatar from \"./Avatar\";\n\nexport default function Sidebar() {\n  const { user } = useAuthContext();\n  return (\n    <div className=\"sidebar\">\n      <div className=\"sidebar-content\">\n        <div className=\"user\">\n          {/* avatar & username here later */}\n          <Avatar src={user.photoURL} />\n          <p>Hey {user.displayName}</p>\n        </div>\n        <nav className=\"links\">\n          <ul>\n            <li>\n              <NavLink exact to=\"/\">\n                <img src={DashboardIcon} alt=\"dashboard icon\" />\n                <span>Dashboard</span>\n              </NavLink>\n            </li>\n            <li>\n              <NavLink to=\"/create\">\n                <img src={AddIcon} alt=\"add project icon\" />\n                <span>New Project</span>\n              </NavLink>\n            </li>\n          </ul>\n        </nav>\n      </div>\n    </div>\n  );\n}\n","import { useCollection } from \"../hooks/useCollection\";\n\n// components\nimport Avatar from \"./Avatar\";\n\n// styles\nimport \"./OnlineUsers.css\";\n\nexport default function OnlineUsers() {\n  const { isPending, error, documents } = useCollection(\"users\");\n\n  return (\n    <div className=\"user-list\">\n      <h2>All Users</h2>\n      {isPending && <div>Loading users...</div>}\n      {error && <div>{error}</div>}\n      {documents &&\n        documents.map((user) => (\n          <div key={user.id} className=\"user-list-item\">\n            {user.online && <span className=\"online-user\" />}\n            <span>{user.displayName}</span>\n            <Avatar src={user.photoURL} />\n          </div>\n        ))}\n    </div>\n  );\n}\n","import { BrowserRouter, Route, Switch, Redirect } from \"react-router-dom\";\nimport { useAuthContext } from \"./hooks/useAuthContext\";\n\n// styles\nimport \"./App.css\";\n\n// pages & components\nimport Dashboard from \"./pages/dashboard/Dashboard\";\nimport Create from \"./pages/create/Create\";\nimport Login from \"./pages/login/Login\";\nimport Signup from \"./pages/signup/Signup\";\nimport Project from \"./pages/project/Project\";\nimport Navbar from \"./components/Navbar\";\nimport Sidebar from \"./components/Sidebar\";\nimport OnlineUsers from \"./components/OnlineUsers\";\n\nfunction App() {\n  const { authIsReady, user } = useAuthContext();\n\n  return (\n    <div className=\"App\">\n      {authIsReady && (\n        <BrowserRouter>\n          {user && <Sidebar />}\n          <div className=\"container\">\n            <Navbar />\n            <Switch>\n              <Route exact path=\"/\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Dashboard />}\n              </Route>\n              <Route path=\"/create\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Create />}\n              </Route>\n              <Route path=\"/projects/:id\">\n                {!user && <Redirect to=\"/login\" />}\n                {user && <Project />}\n              </Route>\n              <Route path=\"/login\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Login />}\n              </Route>\n              <Route path=\"/signup\">\n                {user && <Redirect to=\"/\" />}\n                {!user && <Signup />}\n              </Route>\n            </Switch>\n          </div>\n          {user && <OnlineUsers />}\n        </BrowserRouter>\n      )}\n    </div>\n  );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./context/AuthContext\";\n\nReactDOM.render(\n  <React.StrictMode>\n    <AuthContextProvider>\n      <App />\n    </AuthContextProvider>\n  </React.StrictMode>,\n  document.getElementById(\"root\")\n);\n"],"sourceRoot":""}